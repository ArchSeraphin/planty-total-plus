!function(t){var e={},n={};t.fn.webfontselector=function(){var t=Array.prototype.slice.call(arguments);if("string"==typeof t[0]){var n=t[0];e.hasOwnProperty(n)&&"function"==typeof e[n]&&(t.length>1?e[n].apply(this,t.slice(1)):e[n].apply(this))}else"object"==typeof t[0]&&e.init.apply(this,t)},t.fn.setupChosenVariant=function(){const e=t(this);e.data("chosen")&&e.chosen("destroy"),e.chosen({allow_single_deselect:!0,search_contains:!0})},e.init=function(a){return a=e.setDefaultOptions(a),this.each((function(){var e=t(this),o=e.parent();if(window.matchMedia("(max-width: 468px)").matches?e.append('<option value="" data-webfont="false" disabled>'+soPremiumFonts.placeholder_text+"</option>"):e.append('<option value="" data-webfont="false"></option>'),a.useInherit&&e.append('<option value="inherit" data-webfont="false">Inherit</option>'),a.useVariants){o.append(`<div class="siteorigin-premium-variant-field-wrapper"><label>${soPremiumFontsWebFontSelector.variant}</label><select class="font-variant"></select></div>`);var i=o.find("select.font-variant");i.parent().hide(),i.setupChosenVariant()}var r=!1;for(var s in a.modules){var l=a.modules[s],p=l.hasOwnProperty("label")?l.label:s,f=t('<optgroup label="'+p+'"></optgroup>');for(var c in f.data("module",s),e.append(f),l.fonts){var d=l.fonts[c],h=t("<option>"+c+"</option>");h.val(c),"Web Safe"!=p&&Array.isArray(d)&&d.length?(h.data("variants",d.join(",")),h.attr("style",`font-family: "${c}", __${s}`)):h.attr("style",`font-family: "${c}", ${d.category}, __${s}`),h.data("webfont","web_safe"!==s),f.append(h)}}e.on("change",(function(){var e=t(this).find("option:selected");if(a.useVariants)if(i.empty().val(""),void 0!==e.data("variants")){var n=e.data("variants").split(",");i.append(t("<option></option>")).val(""),t.each(n,(function(e,n){i.append(t("<option></option>").html(n))})),n.indexOf("regular")>-1?i.val("regular"):n.indexOf("400")>-1?i.val("400"):i.val(n[0]),i.find("option").length>2?i.parent().css("display","inline-block"):i.parent().hide(),i.setupChosenVariant()}else i.parent().hide()}));var u=function(o,s){if(r){var l={};l.font=e.val();var p=e.find("option:selected");l.webfont=p.data("webfont"),a.useVariants&&(l.variant=i.val()),l.module=p.parent().data("module");var f=p.attr("style");f?!l.webfont||n.hasOwnProperty(l.font)&&n[l.font]||(WebFont.load({google:{families:[l.font]}}),n[l.font]=!0):f=null,e.siblings(".chosen-container").find(".chosen-single > span").attr("style",f);var c=t(this).data("currentValue");s&&s.silent||t(this).trigger("font_change",[l,c]),t(this).data("currentValue",l)}}.bind(this);o.find("select").on("change",u);var v=null;if(null===v){var g=null;e.on("chosen:ready",(function(e,a){var o=a.chosen.dropdown,i=o.find(".chosen-results");o.find(".chosen-results").on("scroll",(function(){clearTimeout(g),g=setTimeout((function(){var e,a,o={};i.find("li").each((function(){var r=t(this),s=r.position().top;void 0!==r.attr("style")&&""!==r.attr("style")&&-1===r.attr("style").indexOf("__web_safe")&&s>-10&&s<i.outerHeight()+30&&(a=r.attr("style").match(/"([^']+)"/),e=a[1].replace(/['"]/g,"").trim(),"google",void 0===o.google&&(o.google=[]),void 0===n[e]&&(o.google.push(e),n[e]=!0))})),o.hasOwnProperty("google")&&o.google.length>0&&WebFont.load({google:{families:o.google}})}),500)})),setTimeout((function(){i.trigger("scroll")}),500),a.chosen.search_field.on("keyup",(function(){setTimeout((function(){i.trigger("scroll")}),500)}))})).on("chosen:showing_dropdown",(function(t,e){e.chosen.dropdown.find(".chosen-results").trigger("scroll")}));var y={allow_single_deselect:!0,search_contains:!0};a.hasOwnProperty("width")&&(y.width=a.width),e.chosen(y),v=!0}r=!0}))},e.setDefaultOptions=function(t){var e={useVariants:!0};for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n]);return t},e.update=function(t,e){var n=t;if(n&&"inherit"!==n){var a=(n=n.split(",")[0]).match(/[\'\"]?([^\'\"]+)[\'\"]?/);null!=a&&(n=a.length>1?a[1]:a[0])}this.val()!==n&&(this.val(n),this.trigger("chosen:updated"),this.trigger("change",{silent:!0}));var o=this.parent().find("select.font-variant");o.length&&e&&o.val(e)}}(jQuery);