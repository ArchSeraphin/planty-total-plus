window.SiteOriginPremium=window.SiteOriginPremium||{},jQuery((function(i){SiteOriginPremium.sowBlogWidget={stickyPreloader:function(i){const t=i.find(".sow-blog-posts"),n=t.offset().top,o=t.outerHeight()-32-window.innerHeight/2;window.pageYOffset>=n&&window.pageYOffset<=n+o?i.find(".sow-blog-ajax-loader-icon").css({position:"fixed",top:"50%"}):i.find(".sow-blog-ajax-loader-icon").css({position:"absolute",top:(window.pageYOffset<=n+o?window.innerHeight/2:t.outerHeight()-32)+"px"})},loadMorePosts:function(t,n={}){const{settings:o,$el:a,totalPages:e}=t;if(a.data("fetching"))return!1;a.data("fetching",!0);let s=0,r=parseInt(a.data("paged"));if("standard"==o.pagination?(s=n.text(),a.find(".sow-post-pagination-standard").css("opacity",.5)):"links"==o.pagination?(s=n.hasClass("sow-previous")?r-1:r+1,a.find(".sow-post-pagination-links").css("opacity",0)):("load"==o.pagination&&n.css("opacity",0),s=r+1),"ajax"==o.pagination_reload||"infinite"==o.pagination)if("standard"==o.pagination||"links"==o.pagination)window.history.pushState("",document.title,n.attr("href"));else{const i="load"==o.pagination?n:a.find(".sow-blog-infinite");window.history.pushState("",document.title,i.data("url")+"/?"+i.data("id")+"="+s)}a.find(".sow-blog-ajax-loader").show(),SiteOriginPremium.sowBlogWidget.stickyPreloader(a),i(window).on("scroll",(function(){SiteOriginPremium.sowBlogWidget.stickyPreloader(a)})),a.find(".sow-blog-posts").css("opacity",.35),i.get(sowBlogAddon["ajax-url"],{action:"sow_blog_load_posts",paged:s,instance_hash:a.data("hash")},(function(t){if("standard"==o.pagination||"links"==o.pagination?(a.find(".sow-blog-posts").html(t.html),i("html").animate({scrollTop:a.offset().top-120},200)):a.find(".sow-blog-posts").append(t.html),a.data("fetching",!1),a.data("paged",s),i(window).off("scroll",SiteOriginPremium.sowBlogWidget.stickyPreloader),"standard"==o.pagination){a.find(".sow-nav-links a.current").removeClass("current");const i=a.find(".sow-nav-links span.current");i.prev().show(),i.remove(),a.find(".page-numbers:not(.dots)").eq(s-1).addClass("current").after('<span aria-current="page" class="page-numbers current">'+s+"</span>").hide(),a.find(".sow-post-pagination-standard").css("opacity",1)}else if("links"==o.pagination){const i=a.data("paging-id"),t=a.find(".sow-previous"),n=a.find(".sow-next");a.find(".sow-post-pagination-links").css("opacity",1),s<2&&t.hide(),1==r&&t.show(),s==e?n.hide():(n.show(),i&&(t.attr("href",t.attr("href").replace(i+"="+(r-1),i+"="+(s-1))),n.attr("href",n.attr("href").replace(i+"="+(r+1),i+"="+(s+1)))))}else"load"==o.pagination?s==e?n.remove():n.css("opacity",1):s==e&&a.find(".sow-blog-infinite").remove();a.hasClass("sow-blog-layout-masonry")?a.find(".sow-blog-posts").masonry("reloadItems").masonry():a.hasClass("sow-blog-layout-portfolio")&&a.find(".sow-blog-posts").isotope("reloadItems").isotope(),a.find(".sow-blog-ajax-loader").hide(),a.find(".sow-blog-posts").css("opacity",1)}))},infiniteScroller:i=>{const{$el:t,totalPages:n}=i;let o=parseInt(t.data("paged"));if(o>=n)return;const a=new IntersectionObserver((a,e)=>{a.forEach(a=>{if(a.isIntersecting&&(SiteOriginPremium.sowBlogWidget.loadMorePosts(i),e.unobserve(a.target),o++,o<n)){const i=t.find(".sow-blog-posts > article"),n=i[i.length-1];e.observe(n)}})},{root:null,rootMargin:"0px",threshold:.8}),e=t.find(".sow-blog-posts > article"),s=e[e.length-1];a.observe(s)},setupAnimation:function(t){const{settings:n,$el:o}=t,a=parseFloat(n.animation.duration);setTimeout((function(){const t=parseFloat(n.animation.delay),e=function(t,n){const o=i(t);n.animation.animation_hide&&o.css("opacity",1),o.addClass("animate__animated animate__"+n.animation.type),o.one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",(function(){o.removeClass("animate__animated animate__"+n.animation.type)}))};o.find("article").each((function(){const o=i(this);if(n.animation.disable_mobile&&window.matchMedia("(max-width: "+n.animation.breakpoint+")").matches)return n.animation.animation_hide&&o.css("opacity",1),void o.addClass("animate__animated");isNaN(a)||o.css({"-webkit-animation-duration":a+"s","animation-duration":a+"s"});const s="so-animate-"+o.index()+(0|9e6*Math.random()).toString(36);o.addClass(s);const r=document.querySelector("."+s),d=r.offsetHeight;let l=parseInt(n.animation.offset);isNaN(l)&&(l=0);const g=new IntersectionObserver((function(i){i[0].isIntersecting&&(!isNaN(t)&&t>0?setTimeout((function(){e("."+s,n)}),1e3*t):e("."+s,n),g.unobserve(r))}),{threshold:l/d});g.observe(r)}))}),150)},setupWidget:function(t){const{settings:n,$el:o,totalPages:a}=t;if("ajax"==n.pagination_reload||"load"==n.pagination||"infinite"==n.pagination){if(o.data("fetching",!1),"standard"==n.pagination){let i=parseInt(o.data("paged")),t=o.find(".page-numbers:not(.dots)").eq(i-1);t.after('<span aria-current="page" class="page-numbers current">'+i+"</span>"),t.hide()}else if("links"==n.pagination){let i=parseInt(o.data("paged"));1==i&&o.find(".sow-previous").hide(),i==a&&o.find(".sow-next").hide()}"infinite"!=n.pagination?o.find(".sow-nav-links a, .sow-nav-links .sow-blog-load-more:not(.sow-loading)").on("click",(function(o){"infinite"!=n.pagination&&o.preventDefault(),SiteOriginPremium.sowBlogWidget.loadMorePosts(t,i(this))})):(o.find(".sow-blog-infinite").hide(),SiteOriginPremium.sowBlogWidget.infiniteScroller(t),i(window).on("scroll resize",(function(){SiteOriginPremium.sowBlogWidget.infiniteScroller(t)})))}n.animation&&SiteOriginPremium.sowBlogWidget.setupAnimation(t)},setup:function(){i(".sow-blog").each((function(){const t=i(this),n={settings:t.data("settings"),$el:t,totalPages:t.data("total-pages")};SiteOriginPremium.sowBlogWidget.setupWidget(n)}))}},SiteOriginPremium.sowBlogWidget.setup(),window.sowb&&i(window.sowb).on("setup_widgets",SiteOriginPremium.sowBlogWidget.setup)}));